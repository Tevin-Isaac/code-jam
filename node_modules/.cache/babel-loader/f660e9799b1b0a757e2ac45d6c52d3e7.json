{"ast":null,"code":"const request = require(\"xhr-request-promise\");\n\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\n\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return {\n      error: e.toString()\n    };\n  });\n};\n\nmodule.exports = send;","map":{"version":3,"names":["request","require","genPayload","nextId","method","params","jsonrpc","id","send","url","contentType","body","JSON","stringify","then","answer","resp","parse","error","Error","message","result","catch","e","toString","module","exports"],"sources":["/home/chizaaa/Documents/code-jam/celo-hodler/code-jam/node_modules/eth-lib/lib/rpc.js"],"sourcesContent":["const request = require(\"xhr-request-promise\");\n\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\n\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return { error: e.toString() };\n  });\n};\n\nmodule.exports = send;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,qBAAD,CAAvB;;AAEA,MAAMC,UAAU,GAAG,CAAC,MAAM;EACxB,IAAIC,MAAM,GAAG,CAAb;EACA,OAAO,CAACC,MAAD,EAASC,MAAT,MAAqB;IAC1BC,OAAO,EAAE,KADiB;IAE1BC,EAAE,EAAE,EAAEJ,MAFoB;IAG1BC,MAAM,EAAEA,MAHkB;IAI1BC,MAAM,EAAEA;EAJkB,CAArB,CAAP;AAMD,CARkB,GAAnB;;AAUA,MAAMG,IAAI,GAAGC,GAAG,IAAI,CAACL,MAAD,EAASC,MAAT,KAAoB;EACtC,OAAOL,OAAO,CAACS,GAAD,EAAM;IAClBL,MAAM,EAAE,MADU;IAElBM,WAAW,EAAE,sBAFK;IAGlBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,UAAU,CAACE,MAAD,EAASC,MAAT,CAAzB;EAHY,CAAN,CAAP,CAIJS,IAJI,CAICC,MAAM,IAAI;IAChB,IAAIC,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWF,MAAX,CAAX,CADgB,CACe;;IAC/B,IAAIC,IAAI,CAACE,KAAT,EAAgB;MACd,MAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACE,KAAL,CAAWE,OAArB,CAAN;IACD,CAFD,MAEO;MACL,OAAOJ,IAAI,CAACK,MAAZ;IACD;EACF,CAXM,EAWJC,KAXI,CAWEC,CAAC,IAAI;IACZ,OAAO;MAAEL,KAAK,EAAEK,CAAC,CAACC,QAAF;IAAT,CAAP;EACD,CAbM,CAAP;AAcD,CAfD;;AAiBAC,MAAM,CAACC,OAAP,GAAiBlB,IAAjB"},"metadata":{},"sourceType":"script"}