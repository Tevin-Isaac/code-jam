{"ast":null,"code":"const Hash = require(\"./hash\");\n\nconst Bytes = require(\"./bytes\");\n\nconst Desubits = require(\"./desubits\"); // Bytes -> Bytes\n\n\nconst bytesAddChecksum = bytes => {\n  const hash = Hash.keccak256(bytes);\n  const sum = Bytes.slice(0, 1, hash);\n  return Bytes.concat(bytes, sum);\n}; // Bytes -> Bool\n\n\nconst bytesChecksum = bytes => {\n  const length = Bytes.length(bytes);\n  const prefix = Bytes.slice(0, length - 1, bytes);\n  return bytesAddChecksum(prefix) === bytes;\n}; // () ~> Passphrase\n\n\nconst create = () => {\n  const bytes = bytesAddChecksum(Bytes.random(11));\n  const seed = Desubits.fromBytes(bytes);\n  const passphrase = seed.replace(/([a-z]{8})/g, \"$1 \");\n  return passphrase;\n}; // Passphrase -> Bytes\n\n\nconst toBytes = passphrase => {\n  const seed = passphrase.replace(/ /g, \"\");\n  const bytes = Desubits.toBytes(passphrase);\n  return bytes;\n}; // Passphrase -> Bool\n\n\nconst checksum = passphrase => bytesChecksum(toBytes(passphrase)); // Passphrase -> Bytes\n\n\nconst toMasterKey = passphrase => {\n  let hash = Hash.keccak256;\n  let bytes = toBytes(passphrase);\n\n  for (let i = 0, l = Math.pow(2, 12); i < l; ++i) bytes = hash(bytes);\n\n  return bytes;\n};\n\nmodule.exports = {\n  create,\n  checksum,\n  toMasterKey\n};","map":{"version":3,"names":["Hash","require","Bytes","Desubits","bytesAddChecksum","bytes","hash","keccak256","sum","slice","concat","bytesChecksum","length","prefix","create","random","seed","fromBytes","passphrase","replace","toBytes","checksum","toMasterKey","i","l","Math","pow","module","exports"],"sources":["/home/chizaaa/Documents/code-jam/celo-hodler/code-jam/node_modules/eth-lib/lib/passphrase.js"],"sourcesContent":["const Hash = require(\"./hash\");\nconst Bytes = require(\"./bytes\");\nconst Desubits = require(\"./desubits\");\n\n// Bytes -> Bytes\nconst bytesAddChecksum = bytes => {\n  const hash = Hash.keccak256(bytes);\n  const sum = Bytes.slice(0, 1, hash);\n  return Bytes.concat(bytes, sum);\n};\n\n// Bytes -> Bool\nconst bytesChecksum = bytes => {\n  const length = Bytes.length(bytes);\n  const prefix = Bytes.slice(0, length - 1, bytes);\n  return bytesAddChecksum(prefix) === bytes;\n};\n\n// () ~> Passphrase\nconst create = () => {\n  const bytes = bytesAddChecksum(Bytes.random(11));\n  const seed = Desubits.fromBytes(bytes);\n  const passphrase = seed.replace(/([a-z]{8})/g, \"$1 \");\n  return passphrase;\n};\n\n// Passphrase -> Bytes\nconst toBytes = passphrase => {\n  const seed = passphrase.replace(/ /g, \"\");\n  const bytes = Desubits.toBytes(passphrase);\n  return bytes;\n};\n\n// Passphrase -> Bool\nconst checksum = passphrase => bytesChecksum(toBytes(passphrase));\n\n// Passphrase -> Bytes\nconst toMasterKey = passphrase => {\n  let hash = Hash.keccak256;\n  let bytes = toBytes(passphrase);\n  for (let i = 0, l = Math.pow(2, 12); i < l; ++i) bytes = hash(bytes);\n  return bytes;\n};\n\nmodule.exports = {\n  create,\n  checksum,\n  toMasterKey\n};"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,YAAD,CAAxB,C,CAEA;;;AACA,MAAMG,gBAAgB,GAAGC,KAAK,IAAI;EAChC,MAAMC,IAAI,GAAGN,IAAI,CAACO,SAAL,CAAeF,KAAf,CAAb;EACA,MAAMG,GAAG,GAAGN,KAAK,CAACO,KAAN,CAAY,CAAZ,EAAe,CAAf,EAAkBH,IAAlB,CAAZ;EACA,OAAOJ,KAAK,CAACQ,MAAN,CAAaL,KAAb,EAAoBG,GAApB,CAAP;AACD,CAJD,C,CAMA;;;AACA,MAAMG,aAAa,GAAGN,KAAK,IAAI;EAC7B,MAAMO,MAAM,GAAGV,KAAK,CAACU,MAAN,CAAaP,KAAb,CAAf;EACA,MAAMQ,MAAM,GAAGX,KAAK,CAACO,KAAN,CAAY,CAAZ,EAAeG,MAAM,GAAG,CAAxB,EAA2BP,KAA3B,CAAf;EACA,OAAOD,gBAAgB,CAACS,MAAD,CAAhB,KAA6BR,KAApC;AACD,CAJD,C,CAMA;;;AACA,MAAMS,MAAM,GAAG,MAAM;EACnB,MAAMT,KAAK,GAAGD,gBAAgB,CAACF,KAAK,CAACa,MAAN,CAAa,EAAb,CAAD,CAA9B;EACA,MAAMC,IAAI,GAAGb,QAAQ,CAACc,SAAT,CAAmBZ,KAAnB,CAAb;EACA,MAAMa,UAAU,GAAGF,IAAI,CAACG,OAAL,CAAa,aAAb,EAA4B,KAA5B,CAAnB;EACA,OAAOD,UAAP;AACD,CALD,C,CAOA;;;AACA,MAAME,OAAO,GAAGF,UAAU,IAAI;EAC5B,MAAMF,IAAI,GAAGE,UAAU,CAACC,OAAX,CAAmB,IAAnB,EAAyB,EAAzB,CAAb;EACA,MAAMd,KAAK,GAAGF,QAAQ,CAACiB,OAAT,CAAiBF,UAAjB,CAAd;EACA,OAAOb,KAAP;AACD,CAJD,C,CAMA;;;AACA,MAAMgB,QAAQ,GAAGH,UAAU,IAAIP,aAAa,CAACS,OAAO,CAACF,UAAD,CAAR,CAA5C,C,CAEA;;;AACA,MAAMI,WAAW,GAAGJ,UAAU,IAAI;EAChC,IAAIZ,IAAI,GAAGN,IAAI,CAACO,SAAhB;EACA,IAAIF,KAAK,GAAGe,OAAO,CAACF,UAAD,CAAnB;;EACA,KAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,EAAZ,CAApB,EAAqCH,CAAC,GAAGC,CAAzC,EAA4C,EAAED,CAA9C,EAAiDlB,KAAK,GAAGC,IAAI,CAACD,KAAD,CAAZ;;EACjD,OAAOA,KAAP;AACD,CALD;;AAOAsB,MAAM,CAACC,OAAP,GAAiB;EACfd,MADe;EAEfO,QAFe;EAGfC;AAHe,CAAjB"},"metadata":{},"sourceType":"script"}